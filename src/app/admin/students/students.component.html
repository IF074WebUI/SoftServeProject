<h1>{{MAIN_HEADER}}</h1>

<dtester-search (searchCriteria)="searchStudent($event)"></dtester-search>

<dtester-entities-table [entities]="students"
                        [headers]="headers"
                        [page]="page"
                        [itemsPerPage]="countPerPage"
                        (editEntity)="selectedStudent($event)"
                        (deleteEntity)="selectedStudent($event)"
                        [ignoreProperties]="ignoreProperties">
</dtester-entities-table>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalAdd" data-whatever="@mdo">{{MODAL_ADD}}</button>

<div class="text-center">
  <dtester-pagination [countRecords]="count"
                      [recordsPerPage]="countPerPage"
                      [currentPage]="page"
                      (pageChanged)="changePage($event)">
  </dtester-pagination>
</div>

<div [ngClass]="{'modal': true, 'fade': true, 'show': showModal}" id="modalAdd" tabindex="-1"
     role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form #addForm="ngForm" [formGroup]="studentForm" method="post">
        <fieldset>
          <legend>{{MODAL_ADD}}</legend>
          <div class="form-group">
            <label for="name">{{MODAL_NAME}}</label>
            <input formControlName="student_name" type="text" class="form-control" id="name" name="name" required >
          </div>
          <div class="form-group">
            <label for="surname">{{MODAL_SURNAME}}</label>
            <input formControlName="student_surname" type="text" class="form-control" id="surname" name="surname" required>
          </div>
          <div class="form-group">
            <label for="f_name">{{MODAL_F_NAME}}</label>
            <input formControlName="student_fname" type="text" class="form-control" id="f_name" name="surname" required>
          </div>
          <div class="form-group">
            <label for="pwd">{{MODAL_PASSWORD}}</label>
            <input formControlName="password" type="password" class="form-control" id="pwd" name="password" required>
          </div>
          <div class="form-group">
            <label for="password_confirm">{{MODAL_CONFIRM_PASSWORD}}</label>
            <input formControlName="password_confirm" type="password" class="form-control"
                   id="password_confirm" name="password" required>
          </div>
          <button class="btn btn-success my-button" type="submit" (click)="addStudent(addForm)"
                  data-dismiss="modal">{{MODAL_ADD_ACTION}}</button>
          <button class="btn btn-secondary my-button" type="button" data-dismiss="modal">{{MODAL_CANSEL}}</button>
        </fieldset>
      </form>
    </div>
  </div>
</div>

<div [ngClass]="{'modal': true, 'fade': true, 'show': showModal}" id="modalDel" tabindex="-1"
     role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form #delForm="ngForm">
        <fieldset>
          <legend class="del-legend">{{MODAL_DEL_HEADER}}</legend>
          <h2>{{MODAL_DEL_BODY}}</h2>
          <button (click)="deleteStudent()" type="submit" class="btn btn-danger my-button" data-dismiss="modal">{{MODAL_DEL}}</button>
          <button type="button" class="btn btn-secondary my-button" data-dismiss="modal">{{MODAL_CANSEL}}</button>
        </fieldset>
      </form>
    </div>
  </div>
</div>

<div [ngClass]="{'modal': true, 'fade': true, 'show': showModal}" id="modalEdit" tabindex="-1"
     role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form #editForm="ngForm" [formGroup]="studentEditForm" method="post">
        <fieldset>
          <legend class="edit-legend">{{MODAL_EDIR_HEADER}}</legend>
          <div class="form-group">
            <label for="editName">{{MODAL_NAME}}</label>
            <input formControlName="editName" type="text" class="form-control" id="editName" name="name" required >
          </div>
          <div class="form-group">
            <label for="editSurname">{{MODAL_SURNAME}}</label>
            <input formControlName="editSurname" type="text" class="form-control" id="editSurname" name="surname" required>
          </div>
          <div class="form-group">
            <label for="editF_name">{{MODAL_F_NAME}}</label>
            <input formControlName="editF_name" type="text" class="form-control" id="editF_name" name="surname" required>
          </div>
          <button class="btn btn-success my-button" type="submit" (click)="editStudent(editForm)"
                  data-dismiss="modal">{{MODAL_EDIT}}</button>
          <button class="btn btn-secondary my-button" type="button" data-dismiss="modal">{{MODAL_CANSEL}}</button>
        </fieldset>
      </form>
    </div>
  </div>
</div>

